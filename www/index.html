<!DOCTYPE html>

<html>

    <head>
        <meta charset="utf-8" />
        <title>PyBoard Accelerator Demo</title>
		<style>
            :root {
              --led-color: black;
            }
            .rTable { display: table; width: 100%; height: 100%;}
			.rTableRow { display: table-row; }
			.rTableCell { display: table-cell; border:10px solid #000; border-radius:100%; background-color: var(--led-color);}
			html, body {height: 50rem; width: 50rem; margin: 0; background:black;}
		</style>
    </head>

    <script language="javascript">
        function init()
        {
            var wsUri           = "ws://" + window.location.hostname + ":500";
            websocket           = new WebSocket(wsUri);
            websocket.onclose   = function(evt) { console.log("DISCONNECTED"); };
            websocket.onmessage = function(evt) { onMessage (evt) };
            websocket.onerror   = function(evt) { console.log('ERROR: ' + evt.data); };
        }
        function onMessage(evt)
        {
			console.log(evt.data)
			document.documentElement.style.setProperty('--led-color', "rgb("+ evt.data.split(";")[0] + ",0)");
        }
        window.addEventListener("load", init, false);
    </script>

	<body>
		<div class="rTable">
			<div class="rTableRow">
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
			</div>
			<div class="rTableRow">
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
			</div>
			<div class="rTableRow">
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
			</div>
			<div class="rTableRow">
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
			</div>
			<div class="rTableRow">
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
			</div>
			<div class="rTableRow">
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
				<div class="rTableCell"></div>
			</div>
		</div>
	</body>

</html>